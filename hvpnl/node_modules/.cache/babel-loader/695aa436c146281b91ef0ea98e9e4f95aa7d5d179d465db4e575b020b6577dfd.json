{"ast":null,"code":"import _objectSpread from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _styled from\"@emotion/styled\";import{Box}from\"@mui/material\";import Header from\"../../components/Header\";import BarChart from\"../../components/BarChart\";import PieChart from\"../../components/PieChart\";import LineChart from\"../../components/LineChart\";import axios from\"axios\";import React,{useEffect,useMemo,useState}from\"react\";import{useGlobalFilter,useSortBy,useTable}from\"react-table\";import{GlobalFilter}from\"../../components/globalFilter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Table=_styled.table({\"fontSize\":\"1rem\",\"lineHeight\":\"1.5rem\"});var TableHead=_styled.thead({\"padding\":\"0.5rem\"});var TableRow=_styled.tr({\"borderWidth\":\"1px\",\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgb(34 197 94 / var(--tw-border-opacity))\"});var TableHeader=_styled.th({\"borderWidth\":\"1px\",\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgb(34 197 94 / var(--tw-border-opacity))\",\"padding\":\"0.5rem\"});var TableBody=_styled.tbody({});var TableData=_styled.td({\"borderWidth\":\"1px\",\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgb(34 197 94 / var(--tw-border-opacity))\",\"padding\":\"1.25rem\"});function TransmissionlineDash(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3001/tb\").catch(function(err){return console.log(err);});case 2:response=_context.sent;if(response){_products=response.data;console.log(\"Products: \",_products);setProducts(_products);}case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();var productsData=useMemo(function(){return _toConsumableArray(products);},[products]);var productsColumns=useMemo(function(){return products[0]?Object.keys(products[0]).filter(function(key){return key!==\"rating\";}).map(function(key){return{Header:key.toUpperCase().replace('_',' '),accessor:key};}):[];},[products]);var tableInstance=useTable({columns:productsColumns,data:productsData},useGlobalFilter,useSortBy);var getTableProps=tableInstance.getTableProps,getTableBodyProps=tableInstance.getTableBodyProps,headerGroups=tableInstance.headerGroups,rows=tableInstance.rows,prepareRow=tableInstance.prepareRow,preGlobalFilteredRows=tableInstance.preGlobalFilteredRows,setGlobalFilter=tableInstance.setGlobalFilter,state=tableInstance.state;useEffect(function(){fetchProducts();},[]);return/*#__PURE__*/_jsxs(Box,{m:\"20px\",children:[/*#__PURE__*/_jsx(Header,{title:\"TRANSMISSION LINE DASHBOARD\",subtitle:\"Transmission Line details\"}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GlobalFilter,{preGlobalFilteredRows:preGlobalFilteredRows,setGlobalFilter:setGlobalFilter,globalFilter:state.GlobalFilter}),/*#__PURE__*/_jsxs(Table,_objectSpread(_objectSpread({style:{margin:'20px 20px 20px 60px',width:'90%',height:'10px',overflowY:'scroll'}},getTableProps()),{},{children:[/*#__PURE__*/_jsx(TableHead,{children:headerGroups.map(function(headerGroup){return/*#__PURE__*/_jsx(TableRow,_objectSpread(_objectSpread({},headerGroup.getHeaderGroupProps()),{},{children:headerGroup.headers.map(function(column){return/*#__PURE__*/_jsxs(TableHeader,_objectSpread(_objectSpread({},column.getHeaderProps(column.getSortByToggleProps())),{},{children:[column.render(\"Header\"),column.isSorted?column.isSortedDesc?\" ▼\":\" ▲\":\"\"]}));})}));})}),/*#__PURE__*/_jsx(TableBody,_objectSpread(_objectSpread({},getTableBodyProps()),{},{children:rows.map(function(row){prepareRow(row);return/*#__PURE__*/_jsx(TableRow,_objectSpread(_objectSpread({},row.getRowProps()),{},{children:row.cells.map(function(cell,idx){return/*#__PURE__*/_jsx(TableData,_objectSpread(_objectSpread({},cell.getCellProps()),{},{children:cell.render(\"Cell\")}));})}));})}))]}))]}),/*#__PURE__*/_jsx(Header,{title:\"TRANSMISSION LINE ANALYSIS\",subtitle:\"Bar Chart\"}),/*#__PURE__*/_jsx(Box,{height:\"75vh\",children:/*#__PURE__*/_jsx(BarChart,{})}),/*#__PURE__*/_jsx(Header,{subtitle:\"Doughnut Chart\"}),/*#__PURE__*/_jsx(Box,{height:\"75vh\",m:\"0 0 200px 200px\",children:/*#__PURE__*/_jsx(PieChart,{})}),/*#__PURE__*/_jsx(Header,{subtitle:\"Line Chart\"}),/*#__PURE__*/_jsx(Box,{height:\"75vh\",children:/*#__PURE__*/_jsx(LineChart,{})})]});};export default TransmissionlineDash;","map":{"version":3,"names":["Box","Header","BarChart","PieChart","LineChart","axios","React","useEffect","useMemo","useState","useGlobalFilter","useSortBy","useTable","GlobalFilter","Table","tw","table","TableHead","thead","TableRow","tr","TableHeader","th","TableBody","tbody","TableData","td","TransmissionlineDash","props","products","setProducts","fetchProducts","get","catch","err","console","log","response","data","productsData","productsColumns","Object","keys","filter","key","map","toUpperCase","replace","accessor","tableInstance","columns","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","preGlobalFilteredRows","setGlobalFilter","state","margin","width","height","overflowY","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","row","getRowProps","cells","cell","idx","getCellProps"],"sources":["E:/hvpnl-dash2/hvpnl/src/scenes/transmissionlineDash/index.jsx"],"sourcesContent":["\r\nimport { Box } from \"@mui/material\";\r\nimport Header from \"../../components/Header\";\r\nimport BarChart from \"../../components/BarChart\";\r\nimport PieChart from \"../../components/PieChart\";\r\nimport LineChart from \"../../components/LineChart\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useGlobalFilter, useSortBy, useTable } from \"react-table\";\r\nimport tw from \"twin.macro\";\r\nimport { GlobalFilter } from \"../../components/globalFilter\"; \r\n\r\nconst Table = tw.table`\r\n  text-base\r\n`;\r\n\r\nconst TableHead = tw.thead`\r\n  p-2\r\n`;\r\n\r\nconst TableRow = tw.tr`\r\nborder\r\nborder-green-500\r\n`;\r\n\r\nconst TableHeader = tw.th`\r\nborder\r\nborder-green-500\r\np-2\r\n`;\r\n\r\nconst TableBody = tw.tbody`\r\n`;\r\n\r\nconst TableData = tw.td`\r\nborder\r\nborder-green-500\r\np-5\r\n`;\r\n\r\n\r\n\r\nfunction TransmissionlineDash(props) {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const fetchProducts = async () => {\r\n    const response = await axios\r\n      .get(\"http://localhost:3001/tb\")\r\n      .catch((err) => console.log(err));\r\n\r\n    if (response) {\r\n      const products = response.data;\r\n\r\n      console.log(\"Products: \", products);\r\n      setProducts(products);\r\n    }\r\n  };\r\n\r\nconst productsData = useMemo(()=> [...products], [products]);\r\n\r\nconst productsColumns = useMemo(\r\n  () =>\r\n    products[0]\r\n      ? Object.keys(products[0])\r\n          .filter((key) => key !== \"rating\")\r\n          .map((key)=>{\r\n              return {Header: key.toUpperCase().replace('_',' '), accessor: key,}\r\n            }): [], [products]);\r\n\r\nconst tableInstance = useTable(\r\n  {columns: productsColumns, data: productsData},\r\n  useGlobalFilter,\r\n  useSortBy);\r\n\r\nconst { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow, preGlobalFilteredRows, setGlobalFilter, state }=tableInstance;\r\n\r\nuseEffect(()=>{\r\n  fetchProducts();\r\n},[]);\r\n\r\nreturn (\r\n  <Box m=\"20px\">\r\n      <Header\r\n        title=\"TRANSMISSION LINE DASHBOARD\"\r\n        subtitle=\"Transmission Line details\"\r\n      />\r\n\r\n<>\r\n<GlobalFilter preGlobalFilteredRows={preGlobalFilteredRows} setGlobalFilter={setGlobalFilter} globalFilter={state.GlobalFilter}/>\r\n<Table style={{margin:'20px 20px 20px 60px', width:'90%',height:'10px', overflowY:'scroll'}}{...getTableProps()}>\r\n  <TableHead>\r\n      {headerGroups.map((headerGroup) => (\r\n            <TableRow {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map((column) => (\r\n                <TableHeader {...column.getHeaderProps(column.getSortByToggleProps())}>\r\n                    {column.render(\"Header\") }\r\n                    {column.isSorted ? (column.isSortedDesc ? \" ▼\" : \" ▲\") : \"\"}\r\n                    </TableHeader>\r\n              ))}\r\n              </TableRow>\r\n      ))}\r\n  </TableHead>\r\n  <TableBody {...getTableBodyProps()}>\r\n                {rows.map((row)=>{\r\n                  prepareRow(row);\r\n\r\n                  return (\r\n                  <TableRow {...row.getRowProps()}>\r\n                  {row.cells.map((cell, idx) =>(\r\n                    <TableData {...cell.getCellProps()}>\r\n                    {cell.render(\"Cell\")}\r\n                  </TableData>\r\n                  ))}\r\n                  </TableRow>\r\n                  );\r\n                })}\r\n\r\n  </TableBody>\r\n</Table>\r\n</>\r\n<Header\r\n        title=\"TRANSMISSION LINE ANALYSIS\"\r\n        subtitle=\"Bar Chart\"\r\n      />\r\n   \r\n    <Box height=\"75vh\">\r\n        <BarChart />\r\n      </Box>\r\n\r\n      <Header\r\n        subtitle=\"Doughnut Chart\"\r\n      />\r\n\r\n    <Box height=\"75vh\" m=\"0 0 200px 200px\">\r\n        <PieChart />\r\n      </Box>\r\n\r\n      <Header\r\n        subtitle=\"Line Chart\"\r\n      />\r\n\r\n      <Box height=\"75vh\">\r\n        <LineChart />\r\n      </Box>\r\n    </Box>  \r\n  );\r\n};\r\n\r\nexport default TransmissionlineDash;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}