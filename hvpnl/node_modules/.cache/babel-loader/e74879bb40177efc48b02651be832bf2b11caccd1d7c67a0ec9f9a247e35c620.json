{"ast":null,"code":"import _regeneratorRuntime from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box}from'@mui/material';import{useEffect,useState}from'react';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{Bar}from'react-chartjs-2';import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);var options={axis:'x',elements:{bar:{borderWidth:2}},scales:{x:{title:{display:true,text:'Voltage Level'}}},responsive:true,plugins:{legend:{position:'left',display:true}}};// const options2 = {\n//   axis: 'x',\n//   elements: {\n//     bar: {\n//       borderWidth: 2,\n//     },\n//   },\n//   scales: {x: { title: { display: true, text: 'Voltage Level' }}, y: { title: { display: true, text: 'Number of Lines' }}},\n//   responsive: true,\n//   plugins: {\n//     legend: {\n//       position: 'top',\n//       display: true\n//     },\n//   },\n// };\nvar BarChart=function BarChart(){var _useState=useState({datasets:[{label:'Dataset 1',data:[],borderColor:'rgb(258, 99, 132)',backgroundColor:'rgba(25, 190, 130)'}]}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];// const [data2, setData2] = useState({\n//   datasets: [\n//     {\n//       label: 'Dataset 2',\n//       data:[],\n//       borderColor: 'rgb(258, 199, 132)',\n//       backgroundColor: 'rgba(25, 190, 130)',\n//     },\n//   ],\n// });\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,dataSet1,dataSet2,label;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url='http://localhost:3001/tb';dataSet1=[];dataSet2=[];label=[];_context.next=6;return fetch(url).then(function(data){console.log(\"Api data\",data);var res=data.json();return res;}).then(function(res){console.log(\"ressss\",res);var _iterator=_createForOfIteratorHelper(res),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var val=_step.value;dataSet1.push(val.ckt);label.push(val.voltagelevel);dataSet2.push(val.nolines);}}catch(err){_iterator.e(err);}finally{_iterator.f();}setData({labels:label,datasets:[{label:'Circuit KM',data:dataSet1,borderColor:'rgb(258, 199, 132)',backgroundColor:'rgba(25, 190, 130)',size:4,padding:1},{label:'No. of Lines',data:dataSet2,borderColor:'rgb(258, 199, 132)',backgroundColor:'rgba(255, 92, 185,1)',size:4,padding:1}]});console.log(\"arrData\",dataSet2);}).catch(function(e){console.log(\"error\",e);});case 6:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsx(Box,{mt:\"-40\",display:\"grid\",gridTemplateColumns:\"repeat(12, 1fr)\",gridAutoRows:\"440px\",gap:\"10px\",children:/*#__PURE__*/_jsx(Box,{gridColumn:\"span 10\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Bar,{data:data,options:options})})});};export default BarChart;","map":{"version":3,"names":["Box","useEffect","useState","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","register","options","axis","elements","bar","borderWidth","scales","x","title","display","text","responsive","plugins","legend","position","BarChart","datasets","label","data","borderColor","backgroundColor","setData","fetchData","url","dataSet1","dataSet2","fetch","then","console","log","res","json","val","push","ckt","voltagelevel","nolines","labels","size","padding","catch","e"],"sources":["E:/hvpnl-dash2/hvpnl/src/components/BarChart.jsx"],"sourcesContent":["import { Box } from '@mui/material';\r\nimport {useEffect, useState} from 'react';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n  } from 'chart.js';\r\n\r\nimport { Bar } from 'react-chartjs-2';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n  );\r\n\r\nconst options = {\r\n    axis: 'x',\r\n    elements: {\r\n      bar: {\r\n        borderWidth: 2,\r\n      },\r\n    },\r\n    scales: { x: { title: { display: true, text: 'Voltage Level' }}},\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'left',\r\n        display: true\r\n      },\r\n    },\r\n  };\r\n\r\n  // const options2 = {\r\n  //   axis: 'x',\r\n  //   elements: {\r\n  //     bar: {\r\n  //       borderWidth: 2,\r\n  //     },\r\n  //   },\r\n  //   scales: {x: { title: { display: true, text: 'Voltage Level' }}, y: { title: { display: true, text: 'Number of Lines' }}},\r\n  //   responsive: true,\r\n  //   plugins: {\r\n  //     legend: {\r\n  //       position: 'top',\r\n  //       display: true\r\n  //     },\r\n  //   },\r\n  // };\r\n\r\n\r\n\r\nconst BarChart =() => {\r\n    const [data, setData] = useState({\r\n        datasets: [\r\n          {\r\n            label: 'Dataset 1',\r\n            data:[],\r\n            borderColor: 'rgb(258, 99, 132)',\r\n            backgroundColor: 'rgba(25, 190, 130)',\r\n          },\r\n\r\n\r\n\r\n        ],\r\n      });\r\n\r\n\r\n      // const [data2, setData2] = useState({\r\n      //   datasets: [\r\n      //     {\r\n      //       label: 'Dataset 2',\r\n      //       data:[],\r\n      //       borderColor: 'rgb(258, 199, 132)',\r\n      //       backgroundColor: 'rgba(25, 190, 130)',\r\n\r\n      //     },\r\n\r\n        \r\n      //   ],\r\n\r\n      // });\r\n\r\n    useEffect(()=> {\r\n       const fetchData= async()=> {\r\n           const url = 'http://localhost:3001/tb'\r\n           const dataSet1 = [];\r\n           const dataSet2 = [];\r\n           const label=[];\r\n         await fetch(url).then((data)=> {\r\n             console.log(\"Api data\", data)\r\n             const res = data.json();\r\n             return res\r\n         }).then((res) => {\r\n             console.log(\"ressss\", res)\r\n            for (const val of res) {\r\n                dataSet1.push(val.ckt);\r\n                label.push(val.voltagelevel);\r\n                dataSet2.push(val.nolines);\r\n            }\r\n\r\n          setData({\r\n            labels:label,\r\n            datasets: [\r\n              {\r\n                label: 'Circuit KM',\r\n                data:dataSet1,\r\n                borderColor: 'rgb(258, 199, 132)',\r\n                backgroundColor: 'rgba(25, 190, 130)',\r\n                size:4,\r\n                padding:1,\r\n              },\r\n              {\r\n                label: 'No. of Lines',\r\n                data:dataSet2,\r\n                borderColor: 'rgb(258, 199, 132)',\r\n                backgroundColor: 'rgba(255, 92, 185,1)',\r\n                size:4,\r\n                padding:1,\r\n              },\r\n            ],\r\n          })\r\n        console.log(\"arrData\", dataSet2)\r\n         }).catch(e => {\r\n                console.log(\"error\", e)\r\n            })\r\n        }\r\n        fetchData();          \r\n    },[])\r\n\r\n\r\n    return(\r\n      <Box mt='-40' display=\"grid\"\r\n      gridTemplateColumns=\"repeat(12, 1fr)\"\r\n      gridAutoRows=\"440px\"\r\n      gap=\"10px\">\r\n\r\n  <Box\r\n  gridColumn=\"span 10\"\r\n  display=\"flex\"\r\n  alignItems=\"center\"\r\n  justifyContent=\"center\"\r\n\r\n>\r\n<Bar data={data} options={options}/>\r\n   \r\n  </Box>\r\n      {/* <Box\r\n\r\n          gridColumn=\"span 6\"\r\n          display=\"flex\"\r\n          alignItems=\"center\"\r\n          justifyContent=\"center\"\r\n        >\r\n        <Bar data={data2} options={options2}/>\r\n      </Box>  */}\r\n      </Box>\r\n       )\r\n  }\r\nexport default BarChart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}