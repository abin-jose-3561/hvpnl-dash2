{"ast":null,"code":"import _regeneratorRuntime from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/hvpnl-dash2/hvpnl/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Chart as ChartJs,LineElement,CategoryScale,LinearScale,PointElement}from'chart.js';import{Line}from'react-chartjs-2';import{jsx as _jsx}from\"react/jsx-runtime\";ChartJs.register(LineElement,CategoryScale,LinearScale,PointElement);function LineChart(){var _useState=useState({datasets:[{data:[0,0,0,0],backgroundColor:['red','blue','yellow','green']}],labels:['0','0','0','0']}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var options={plugins:{legend:true}};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,dataSet1,dataSet2,label;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url='http://localhost:3001/tb';dataSet1=[];dataSet2=[];label=[];_context.next=6;return fetch(url).then(function(data){console.log(\"Api data\",data);var res=data.json();return res;}).then(function(res){console.log(\"ressss\",res);var _iterator=_createForOfIteratorHelper(res),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var val=_step.value;dataSet1.push(val.ckt);label.push(val.voltagelevel);dataSet2.push(val.nolines);}}catch(err){_iterator.e(err);}finally{_iterator.f();}setData({labels:label,datasets:[{label:'Total Circuit KM',data:dataSet1,backgroundColor:'#ff0000',borderColor:'#ff4500',pointBorderColor:'#ff0000',tension:0.4},{label:'Number of Lines',data:dataSet2,backgroundColor:'#1e90ff',borderColor:'#1e90ff',pointBorderColor:'#87ceeb',tension:0.4}]});console.log(\"arrData\",dataSet1);}).catch(function(e){console.log(\"error\",e);});case 6:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsx(Line,{data:data,options:options});}export default LineChart;","map":{"version":3,"names":["useEffect","useState","Chart","ChartJs","LineElement","CategoryScale","LinearScale","PointElement","Line","register","LineChart","datasets","data","backgroundColor","labels","setData","options","plugins","legend","fetchData","url","dataSet1","dataSet2","label","fetch","then","console","log","res","json","val","push","ckt","voltagelevel","nolines","borderColor","pointBorderColor","tension","catch","e"],"sources":["E:/hvpnl-dash2/hvpnl/src/components/LineChart.jsx"],"sourcesContent":["\r\nimport { useEffect,useState } from \"react\";\r\nimport {Chart as ChartJs, LineElement, CategoryScale, LinearScale, PointElement} from 'chart.js';\r\nimport { Line } from 'react-chartjs-2';\r\nChartJs.register(\r\n    LineElement, \r\n    CategoryScale,\r\n    LinearScale, \r\n    PointElement\r\n);\r\n\r\nfunction LineChart(){\r\n  const [data, setData] = useState({\r\n    datasets: [{\r\n      data: [0,0,0,0],\r\n        backgroundColor:[\r\n          'red',\r\n          'blue',\r\n          'yellow',\r\n          'green'\r\n        ]\r\n    },\r\n  ],\r\n  labels: [\r\n    '0',\r\n    '0',\r\n    '0',\r\n    '0'\r\n],\r\n});\r\n\r\n\r\nconst options ={\r\n\r\n    plugins:{\r\n        legend: true\r\n    },\r\n    \r\n}\r\n\r\n  useEffect(()=> {\r\n    const fetchData= async()=> {\r\n        const url = 'http://localhost:3001/tb'\r\n        const dataSet1 = [];\r\n        const dataSet2 = [];\r\n        const label=[];\r\n      await fetch(url).then((data)=> {\r\n          console.log(\"Api data\", data)\r\n          const res = data.json();\r\n          return res\r\n      }).then((res) => {\r\n          console.log(\"ressss\", res)\r\n         for (const val of res) {\r\n             dataSet1.push(val.ckt);\r\n             label.push(val.voltagelevel);\r\n             dataSet2.push(val.nolines);\r\n         }\r\n\r\n         setData({\r\n             labels:label,\r\n             datasets: [\r\n               {\r\n                 label: 'Total Circuit KM',\r\n                 data:dataSet1,\r\n                 backgroundColor: '#ff0000',\r\n                 borderColor: '#ff4500',\r\n                 pointBorderColor: '#ff0000',\r\n                 tension : 0.4\r\n\r\n               },{\r\n                label: 'Number of Lines',\r\n                data:dataSet2,\r\n                backgroundColor: '#1e90ff',\r\n                 borderColor: '#1e90ff',\r\n                 pointBorderColor: '#87ceeb',\r\n                 tension : 0.4\r\n               }]\r\n\r\n           })\r\n         console.log(\"arrData\", dataSet1)\r\n\r\n      }).catch(e => {\r\n\r\n             console.log(\"error\", e)\r\n\r\n         })\r\n        }\r\n         fetchData();\r\n        }, [])\r\n\r\n\r\n  return (\r\n      <Line data={data} options={options}/>\r\n    \r\n    );\r\n\r\n}\r\n\r\nexport default LineChart;\r\n "],"mappings":"gdACA,OAASA,SAAS,CAACC,QAAQ,KAAQ,OAAO,CAC1C,OAAQC,KAAK,GAAIC,QAAO,CAAEC,WAAW,CAAEC,aAAa,CAAEC,WAAW,CAAEC,YAAY,KAAO,UAAU,CAChG,OAASC,IAAI,KAAQ,iBAAiB,CAAC,2CACvCL,OAAO,CAACM,QAAQ,CACZL,WAAW,CACXC,aAAa,CACbC,WAAW,CACXC,YAAY,CACf,CAED,QAASG,UAAS,EAAE,CAClB,cAAwBT,QAAQ,CAAC,CAC/BU,QAAQ,CAAE,CAAC,CACTC,IAAI,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACbC,eAAe,CAAC,CACd,KAAK,CACL,MAAM,CACN,QAAQ,CACR,OAAO,CAEb,CAAC,CACF,CACDC,MAAM,CAAE,CACN,GAAG,CACH,GAAG,CACH,GAAG,CACH,GAAG,CAEP,CAAC,CAAC,wCAjBOF,IAAI,eAAEG,OAAO,eAoBtB,GAAMC,QAAO,CAAE,CAEXC,OAAO,CAAC,CACJC,MAAM,CAAE,IACZ,CAEJ,CAAC,CAEClB,SAAS,CAAC,UAAK,CACb,GAAMmB,UAAS,4FAAE,oKACPC,GAAG,CAAG,0BAA0B,CAChCC,QAAQ,CAAG,EAAE,CACbC,QAAQ,CAAG,EAAE,CACbC,KAAK,CAAC,EAAE,uBACVC,MAAK,CAACJ,GAAG,CAAC,CAACK,IAAI,CAAC,SAACb,IAAI,CAAI,CAC3Bc,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEf,IAAI,CAAC,CAC7B,GAAMgB,IAAG,CAAGhB,IAAI,CAACiB,IAAI,EAAE,CACvB,MAAOD,IAAG,CACd,CAAC,CAAC,CAACH,IAAI,CAAC,SAACG,GAAG,CAAK,CACbF,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEC,GAAG,CAAC,0CACTA,GAAG,YAArB,+CAAuB,IAAZE,IAAG,aACVT,QAAQ,CAACU,IAAI,CAACD,GAAG,CAACE,GAAG,CAAC,CACtBT,KAAK,CAACQ,IAAI,CAACD,GAAG,CAACG,YAAY,CAAC,CAC5BX,QAAQ,CAACS,IAAI,CAACD,GAAG,CAACI,OAAO,CAAC,CAC9B,CAAC,qDAEDnB,OAAO,CAAC,CACJD,MAAM,CAACS,KAAK,CACZZ,QAAQ,CAAE,CACR,CACEY,KAAK,CAAE,kBAAkB,CACzBX,IAAI,CAACS,QAAQ,CACbR,eAAe,CAAE,SAAS,CAC1BsB,WAAW,CAAE,SAAS,CACtBC,gBAAgB,CAAE,SAAS,CAC3BC,OAAO,CAAG,GAEZ,CAAC,CAAC,CACDd,KAAK,CAAE,iBAAiB,CACxBX,IAAI,CAACU,QAAQ,CACbT,eAAe,CAAE,SAAS,CACzBsB,WAAW,CAAE,SAAS,CACtBC,gBAAgB,CAAE,SAAS,CAC3BC,OAAO,CAAG,GACZ,CAAC,CAEL,CAAC,CAAC,CACJX,OAAO,CAACC,GAAG,CAAC,SAAS,CAAEN,QAAQ,CAAC,CAEnC,CAAC,CAAC,CAACiB,KAAK,CAAC,SAAAC,CAAC,CAAI,CAEPb,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEY,CAAC,CAAC,CAE3B,CAAC,CAAC,sDACF,kBA7CCpB,UAAS,0CA6CV,CACAA,SAAS,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAGZ,mBACI,KAAC,IAAI,EAAC,IAAI,CAAEP,IAAK,CAAC,OAAO,CAAEI,OAAQ,EAAE,CAI3C,CAEA,cAAeN,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}